{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/cpsc349/project1/src/Firestore.js\",\n  _s = $RefreshSig$();\nimport Card from './Card';\nimport { initializeApp } from 'firebase/app';\nimport React, { useState, useEffect } from 'react';\nimport { getFirestore, collection, getDocs, query, where } from 'firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Firestore({\n  selection\n}) {\n  _s();\n  console.log(selection);\n  const firebaseConfig = {\n    apiKey: \"AIzaSyAhQinzfK_Y8YTtNP89Q6xiwYTITLy0-78\",\n    authDomain: \"cpsc-349-16ae4.firebaseapp.com\",\n    projectId: \"cpsc-349-16ae4\",\n    storageBucket: \"cpsc-349-16ae4.appspot.com\",\n    messagingSenderId: \"282632731851\",\n    appId: \"1:282632731851:web:5705801943d17189492f4e\",\n    measurementId: \"G-2J89WM117B\"\n  };\n\n  // init firebase app\n  initializeApp(firebaseConfig);\n\n  //init services\n  const db = getFirestore();\n\n  //collection ref\n  const colRef = collection(db, 'restaurants');\n  const q = query(colRef, where('type', '==', selection));\n\n  // let restaurants = []\n  // getDocs(colRef)\n  //   .then((snapshot) => {\n  //     snapshot.docs.forEach((doc) => {\n  //       // console.log(doc.data())\n  //       restaurants.push({ ...doc.data(), id: doc.id})\n  //       // console.log(restaurants[0].name)\n  //     })\n  //   })\n  // console.log(restaurants)\n\n  const [restaurants, setRestaurants] = useState([]);\n\n  // Use useEffect to fetch data when the component mounts\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const snapshot = await getDocs(q);\n        const restaurantData = snapshot.docs.map(doc => ({\n          ...doc.data(),\n          id: doc.id\n        }));\n        setRestaurants(restaurantData);\n      } catch (error) {\n        console.error('Error fetching data: ', error);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // console.log(restaurants)\n\n  return (\n    /*#__PURE__*/\n    // <div>\n    _jsxDEV(\"div\", {\n      className: \"list-container\",\n      children: restaurants.map(place => /*#__PURE__*/_jsxDEV(Card, {\n        name: place.name,\n        rating: place.rating,\n        hours: place.hours,\n        photo: place.photo,\n        address: place.address,\n        description: place.description,\n        price: place.price\n      }, place.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }, this)\n    // </div>\n  );\n}\n_s(Firestore, \"UUwaAnmni1jVfIU2TonQ0iTwxYs=\");\n_c = Firestore;\nexport default Firestore;\nvar _c;\n$RefreshReg$(_c, \"Firestore\");","map":{"version":3,"names":["Card","initializeApp","React","useState","useEffect","getFirestore","collection","getDocs","query","where","jsxDEV","_jsxDEV","Firestore","selection","_s","console","log","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","colRef","q","restaurants","setRestaurants","fetchData","snapshot","restaurantData","docs","map","doc","data","id","error","className","children","place","name","rating","hours","photo","address","description","price","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Applications/MAMP/cpsc349/project1/src/Firestore.js"],"sourcesContent":["import Card from './Card'\nimport { initializeApp } from 'firebase/app'\nimport React, { useState, useEffect } from 'react';\nimport {\n  getFirestore, collection, getDocs, query, where\n} from 'firebase/firestore'\n\nfunction Firestore({ selection }) {\nconsole.log(selection)\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAhQinzfK_Y8YTtNP89Q6xiwYTITLy0-78\",\n  authDomain: \"cpsc-349-16ae4.firebaseapp.com\",\n  projectId: \"cpsc-349-16ae4\",\n  storageBucket: \"cpsc-349-16ae4.appspot.com\",\n  messagingSenderId: \"282632731851\",\n  appId: \"1:282632731851:web:5705801943d17189492f4e\",\n  measurementId: \"G-2J89WM117B\"\n}\n\n// init firebase app\ninitializeApp(firebaseConfig);\n\n//init services\nconst db = getFirestore();\n\n//collection ref\nconst colRef = collection(db, 'restaurants');\n\nconst q = query(colRef, where('type', '==', selection))\n\n// let restaurants = []\n// getDocs(colRef)\n//   .then((snapshot) => {\n//     snapshot.docs.forEach((doc) => {\n//       // console.log(doc.data())\n//       restaurants.push({ ...doc.data(), id: doc.id})\n//       // console.log(restaurants[0].name)\n//     })\n//   })\n// console.log(restaurants)\n\nconst [restaurants, setRestaurants] = useState([]);\n  \n  // Use useEffect to fetch data when the component mounts\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const snapshot = await getDocs(q);\n        const restaurantData = snapshot.docs.map((doc) => ({ ...doc.data(), id: doc.id }));\n        setRestaurants(restaurantData);\n      } catch (error) {\n        console.error('Error fetching data: ', error);\n      }\n    };\n  \n    fetchData();\n  }, []);\n\n  // console.log(restaurants)\n\nreturn (\n  // <div>\n    <div className='list-container'>\n        {/* {console.log('in return: ' + restaurants)} */}\n        { \n          restaurants.map((place) => (\n            <Card \n              key={place.id}\n              name={place.name}\n              rating={place.rating}\n              hours={place.hours}\n              photo={place.photo}\n              address={place.address}\n              description={place.description}\n              price={place.price}\n            />\n          ))\n        }\n    </div>\n  // </div>\n  );\n}\n\nexport default Firestore;\n\n"],"mappings":";;AAAA,OAAOA,IAAI,MAAM,QAAQ;AACzB,SAASC,aAAa,QAAQ,cAAc;AAC5C,OAAOC,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SACEC,YAAY,EAAEC,UAAU,EAAEC,OAAO,EAAEC,KAAK,EAAEC,KAAK,QAC1C,oBAAoB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE3B,SAASC,SAASA,CAAC;EAAEC;AAAU,CAAC,EAAE;EAAAC,EAAA;EAClCC,OAAO,CAACC,GAAG,CAACH,SAAS,CAAC;EAEtB,MAAMI,cAAc,GAAG;IACrBC,MAAM,EAAE,yCAAyC;IACjDC,UAAU,EAAE,gCAAgC;IAC5CC,SAAS,EAAE,gBAAgB;IAC3BC,aAAa,EAAE,4BAA4B;IAC3CC,iBAAiB,EAAE,cAAc;IACjCC,KAAK,EAAE,2CAA2C;IAClDC,aAAa,EAAE;EACjB,CAAC;;EAED;EACAvB,aAAa,CAACgB,cAAc,CAAC;;EAE7B;EACA,MAAMQ,EAAE,GAAGpB,YAAY,CAAC,CAAC;;EAEzB;EACA,MAAMqB,MAAM,GAAGpB,UAAU,CAACmB,EAAE,EAAE,aAAa,CAAC;EAE5C,MAAME,CAAC,GAAGnB,KAAK,CAACkB,MAAM,EAAEjB,KAAK,CAAC,MAAM,EAAE,IAAI,EAAEI,SAAS,CAAC,CAAC;;EAEvD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAM,CAACe,WAAW,EAAEC,cAAc,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC;;EAEhD;EACAC,SAAS,CAAC,MAAM;IACd,MAAM0B,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMxB,OAAO,CAACoB,CAAC,CAAC;QACjC,MAAMK,cAAc,GAAGD,QAAQ,CAACE,IAAI,CAACC,GAAG,CAAEC,GAAG,KAAM;UAAE,GAAGA,GAAG,CAACC,IAAI,CAAC,CAAC;UAAEC,EAAE,EAAEF,GAAG,CAACE;QAAG,CAAC,CAAC,CAAC;QAClFR,cAAc,CAACG,cAAc,CAAC;MAChC,CAAC,CAAC,OAAOM,KAAK,EAAE;QACdvB,OAAO,CAACuB,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC/C;IACF,CAAC;IAEDR,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;;EAEN;;EAEF;IAAA;IACE;IACEnB,OAAA;MAAK4B,SAAS,EAAC,gBAAgB;MAAAC,QAAA,EAGzBZ,WAAW,CAACM,GAAG,CAAEO,KAAK,iBACpB9B,OAAA,CAACX,IAAI;QAEH0C,IAAI,EAAED,KAAK,CAACC,IAAK;QACjBC,MAAM,EAAEF,KAAK,CAACE,MAAO;QACrBC,KAAK,EAAEH,KAAK,CAACG,KAAM;QACnBC,KAAK,EAAEJ,KAAK,CAACI,KAAM;QACnBC,OAAO,EAAEL,KAAK,CAACK,OAAQ;QACvBC,WAAW,EAAEN,KAAK,CAACM,WAAY;QAC/BC,KAAK,EAAEP,KAAK,CAACO;MAAM,GAPdP,KAAK,CAACJ,EAAE;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAQd,CACF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEH;IACP;EAAA;AAEF;AAACtC,EAAA,CA3EQF,SAAS;AAAAyC,EAAA,GAATzC,SAAS;AA6ElB,eAAeA,SAAS;AAAC,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}